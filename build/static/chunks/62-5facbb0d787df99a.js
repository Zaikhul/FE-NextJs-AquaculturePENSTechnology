"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[62],{45417:function(e,t,n){var o=n(85893),i=n(12619),s=n(95658),a=n(35297),l=n(10149),r=n(41664),c=n.n(r),d=n(67294);t.Z=function(e){let[t,n]=(0,d.useState)(),[r,u]=(0,d.useState)(),[f,p]=(0,d.useState)(0),getLocation=async()=>{i.SM.getCityById({cityId:e.cityId,isNotify:!1}).then(e=>{e&&(n(e.data),i.Rb.getProvinceById({provinceId:e.data.provinceId,isNotify:!1}).then(e=>{e&&u(e.data)}))})},getPools=async()=>{i.jf.getPoolsByPondId({isNotify:!1,pondId:e._id}).then(e=>{e&&p(e.data.length)})},handleDelete=async()=>await i.ff.deletePondsById({isNotify:!1,pondsId:e._id}).then(t=>{if(t)return e.listRefresher()});return(0,d.useEffect)(()=>{getLocation(),getPools()},[e]),(0,o.jsxs)("div",{className:"bg-blue-700 rounded-xl border-blue-200 border-2 p-4 text-white",children:[(0,o.jsx)("h4",{className:"text-xl font-white",children:e.pondsName}),(0,o.jsxs)("div",{className:"flex flex-row gap-2 mt-2",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(null==t?void 0:t.cityName)?(0,o.jsx)("p",{className:"text-xs font-semibold",children:(0,s.Z)((null==t?void 0:t.cityName.toLowerCase())||"")}):(0,o.jsx)(l.Z.Button,{active:!0,size:"small",shape:"default",block:!1}),(null==r?void 0:r.provinceName)?(0,o.jsx)("p",{className:"text-xs font-light",children:(0,s.Z)((null==r?void 0:r.provinceName.toLowerCase())||"")}):(0,o.jsx)(l.Z.Button,{active:!0,size:"small",shape:"default",block:!1})]}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{children:"Jumlah Kolam"}),(0,o.jsx)("p",{className:"text-4xl font-bold",children:f})]})]}),(0,o.jsxs)("div",{className:"flex flex-row gap-4 w-full",children:[(0,o.jsx)(c(),{className:"flex-1",href:"/dashboard/ponds/"+e._id,children:(0,o.jsx)("button",{className:"w-full py-2 bg-blue-600 text-white rounded-xl border-2 border-white",children:"Buka"})}),(0,o.jsx)(a.Z,{title:"Hapus tambak?",description:"Apakah anda yakin untuk menghapus tambak ini?",onConfirm:handleDelete,okText:"Iya",cancelText:"Tidak",okButtonProps:{loading:!1},children:(0,o.jsx)("button",{className:"w-full flex-1 py-2 bg-red-600 text-white rounded-xl border-2 border-white",children:"Hapus"})})," "]})]})}},24557:function(e,t,n){var o=n(85893),i=n(3855);n(67294),t.Z=function(e){let{message:t}=e;return(0,o.jsxs)("div",{className:"h-full w-full flex flex-col items-center justify-center mt-4",children:[(0,o.jsx)(i.Z,{className:"font-bold text-4xl text-gray-300"}),(0,o.jsx)("p",{className:"font-bold text-2xl text-gray-300 text-center",children:t})]})}},27116:function(e,t,n){n.d(t,{Z:function(){return layouts_DashboardLayout}});var o=n(85893),i=n(67294),s=n(25675),a=n.n(s),l=n(41664),r=n.n(l),c=n(11163),Header=()=>{let e=(0,c.useRouter)(),defineStyleNav=t=>{let n=e.asPath;return n.split("/")[2]==t?"bg-blue-400 text-white border-blue-200":""};return(0,i.useEffect)(()=>{},[]),(0,o.jsxs)("div",{className:"w-full",children:[(0,o.jsx)("div",{className:"flex flex-row items-center w-full justify-center gap-4 py-2",children:(0,o.jsxs)(r(),{href:"/",className:"flex flex-row items-center gap-4",children:[(0,o.jsx)(a(),{className:"cursor-pointer",src:"/images/logo-aquaculture-pens.png",alt:"Logo PENS",width:40,height:300}),(0,o.jsx)("h1",{className:"font-bold text-xs",children:"PENS Aquaculture Technology"})]})}),(0,o.jsxs)("ul",{className:"w-full flex flex-row items-center justify-evenly text-xs mt-4 gap-4",children:[(0,o.jsx)("li",{className:"flex-1 text-center rounded py-2 border-b-4 border-blue-800 hover:border-blue-400 ".concat(defineStyleNav(void 0)),children:(0,o.jsx)(r(),{href:"/dashboard",children:(0,o.jsx)("p",{children:"Beranda"})})}),(0,o.jsx)("li",{className:"flex-1 text-center rounded py-2 border-b-4 border-blue-800 hover:border-blue-400 ".concat(defineStyleNav("ponds")),children:(0,o.jsx)(r(),{href:"/dashboard/ponds",children:(0,o.jsx)("p",{children:"Tambak"})})}),(0,o.jsx)("li",{className:"flex-1 text-center rounded py-2 border-b-4 border-blue-800 hover:border-blue-400 ".concat(defineStyleNav("profile")),children:(0,o.jsx)(r(),{href:"/dashboard/profile",children:(0,o.jsx)("p",{children:"Akun"})})})]})]})},d=n(28487),u=n(11187),layouts_DashboardLayout=function(e){let{children:t}=e,n=(0,c.useRouter)(),checkLoggedIn=()=>{let e=d.Z.getCookie("access_token"),t=d.Z.getCookie("role"),o=d.Z.getCookie("username");return e?"admin"==o&&t?(u.ZP.info({content:"You only admin access !"}),n.replace("/admin/ponds")):void 0:(u.ZP.info({content:"You have to logged in first!"}),n.replace("/"))};return(0,i.useEffect)(()=>{checkLoggedIn()},[]),(0,o.jsx)("div",{className:"w-full",children:(0,o.jsxs)("div",{className:"m-auto w-11/12 md:w-10/12 lg:8/12 xl:w-6/12",children:[(0,o.jsx)(Header,{}),t]})})}},12619:function(e,t,n){n.d(t,{gx:function(){return l},SM:function(){return u},C8:function(){return g},ff:function(){return c},jf:function(){return f},Rb:function(){return d},pv:function(){return p},Q:function(){return r},vn:function(){return serviceInstance}});let o="https://be.aquaculturepens.com";var i=n(28487),s=n(11187),a=n(5121);async function login(e){let{data:t}=await serviceInstance(e.isNotify).post("/api/v1/auth/login",e.data);return t}async function register(e){let{data:t}=await serviceInstance(e.isNotify).post("/api/v1/auth/register",e.data);return t}let l={login:login,register:register};async function getAllUserProfiles(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/users/all");return t}async function getMyProfile(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/users");return t}let r={getMyProfile:getMyProfile,getAllUserProfiles:getAllUserProfiles};async function getAllPonds(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/ponds?pondsName="+e.pondsName+"&page="+e.page+"&limit="+e.limit+"&provinceId="+e.provinceId+"&cityId="+e.cityId);return t}async function getAllNoQueryPonds(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/ponds/all-ponds?pondsName="+e.pondsName+"&page="+e.page+"&limit="+e.limit+"&provinceId="+e.provinceId+"&cityId="+e.cityId);return t}async function getPondById(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/ponds/pondsId/"+e.pondsId);return t}async function getAllPondsByCityId(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/ponds/cityId/"+e.cityId);return t}async function createPonds(e){let{data:t}=await serviceInstance(e.isNotify).post("/api/v1/ponds?pondsName",e.data);return t}async function deletePondsById(e){let{data:t}=await serviceInstance(e.isNotify).delete("/api/v1/ponds/pondsId/"+e.pondsId);return t}let c={getAllPonds:getAllPonds,createPonds:createPonds,getAllNoQueryPonds:getAllNoQueryPonds,getAllPondsByCityId:getAllPondsByCityId,deletePondsById:deletePondsById,getPondById:getPondById};async function getAllProvinces(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/provinces?provinceName="+e.provinceName);return t}async function getProvinceById(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/provinces/provinceId/"+e.provinceId);return t}let d={getAllProvinces:getAllProvinces,getProvinceById:getProvinceById};async function getAllCities(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/cities?cityName=");return t}async function getCityById(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/cities/cityId/"+e.cityId);return t}async function getAllCitiesByProvinceId(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/cities/provinceId/"+e.provinceId);return t}let u={getAllCities:getAllCities,getAllCitiesByProvinceId:getAllCitiesByProvinceId,getCityById:getCityById};async function getAllPools(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/pools?poolsName="+e.poolsName);return t}async function createPools(e){let{data:t}=await serviceInstance(e.isNotify).post("/api/v1/pools",e.data);return t}async function getPoolsByPondId(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/pools/pondsId/"+e.pondId);return t}async function getPoolsById(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/pools/poolsId/"+e.poolsId);return t}async function bindPools(e){let{data:t}=await serviceInstance(e.isNotify).put("/api/v1/pools/bind/poolsId/"+e.poolsId,e.data);return t}async function getPoolsByPondIdAdmin(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/pools/pondsIdAdmin/"+e.pondId);return t}let f={getAllPools:getAllPools,getPoolsByPondId:getPoolsByPondId,createPools:createPools,getPoolsById:getPoolsById,getPoolsByPondIdAdmin:getPoolsByPondIdAdmin,bindPools:bindPools};async function getAllSampling(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/sample/poolsId/".concat(e.poolsId,"?from=").concat(e.from,"&to=").concat(e.to,"&limit=").concat(e.limit,"&page=").concat(e.page,"&newestTime=").concat(e.newestTime));return t}async function getTodaySampling(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/sample/poolsId/".concat(e.poolsId,"/today"));return t}let p={getTodaySampling:getTodaySampling,getAllSampling:getAllSampling};async function getAllMonitoring(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/monitor/poolsId/".concat(e.poolsId,"?from=").concat(e.from,"&to=").concat(e.to,"&limit=").concat(e.limit,"&page=").concat(e.page,"&newestTime=").concat(e.newestTime));return t}async function getTodayMonitoring(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/monitor/poolsId/".concat(e.poolsId,"/today"));return t}let g={getTodayMonitoring:getTodayMonitoring,getAllMonitoring:getAllMonitoring};a.Z.create({baseURL:o,timeout:1e4});let serviceInstance=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?"":i.Z.getCookie("access_token"),l=a.Z.create({baseURL:o,timeout:1e4,headers:{Authorization:"Bearer "+n,"Access-Control-Allow-Origin":"*"}});return l.interceptors.response.use(function(t){return e&&s.ZP.success({content:t.data.message}),t},function(t){return e&&s.ZP.error({content:t.response.data.message}),t}),l}},95658:function(e,t){t.Z=e=>{let t="";return e.split(" ").forEach(e=>{var n;t+=(null===(n=e[0])||void 0===n?void 0:n.toUpperCase())+e.slice(1)+" "}),t}},28487:function(e,t){t.Z={setCookie:(e,t,n)=>{let o="";if(n){let e=new Date;e.setTime(e.getTime()+864e5*n),o="; expires="+e.toUTCString()}document.cookie=e+"="+(t||"")+o+"; path=/"},getCookie:e=>{let t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},deleteCookie:e=>{document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/"}}}}]);