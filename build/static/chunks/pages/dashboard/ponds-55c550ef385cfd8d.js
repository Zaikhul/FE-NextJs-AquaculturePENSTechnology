(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[948],{34950:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"}},3855:function(e,t,a){"use strict";Object.defineProperty(t,"Z",{enumerable:!0,get:function(){return l}});var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_getRequireWildcardCache(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}(a(67294)),r=_interop_require_default(a(34950)),i=_interop_require_default(a(92074));function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache=function(e){return e?a:t})(e)}var l=n.forwardRef(function(e,t){var a,l;return n.createElement(i.default,(a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){var n;n=a[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},e),l=l={ref:t,icon:r.default},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):(function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a.push.apply(a,n)}return a})(Object(l)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(l,e))}),a))})},57468:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/ponds",function(){return a(88143)}])},88143:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Auth}});var n=a(85893),r=a(9008),i=a.n(r),l=a(27116),s=a(67294),o=a(45417),d=a(24557),c=a(12619),u=a(86266),f=a(51024),h=a(64749),m=a(56697),partials_AddNewPonds=function(e){var t;let[a,r]=(0,s.useState)(""),[i,l]=(0,s.useState)(""),[o,d]=(0,s.useState)(),[u,p]=(0,s.useState)(""),[b,x]=(0,s.useState)(!1),handleCreatePond=async()=>[c.ff.createPonds({data:{cityId:i,pondsName:u},isNotify:!0}).then(e=>{if(!e)return x(!1)}).finally(()=>{x(!1)})];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>x(!0),className:"px-4 py-2 rounded bg-green-500 text-white hover:text-green-500 hover:bg-white border-2 border-green-500",children:(0,n.jsx)("p",{className:"text-sm font-light",children:"Tambah Tambak"})}),(0,n.jsxs)(m.Z,{open:b,title:"Tambahkan Tambak Baru",footer:[(0,n.jsx)("button",{className:"px-2 py-2 rounded border-2 ml-2 bg-red-500 text-white w-24",onClick:()=>x(!1),children:"Batal"},"ahh"),(0,n.jsx)("button",{onClick:handleCreatePond,className:"px-2 py-2 rounded border-2 ml-2 bg-green-500 text-white w-24",children:"Tambah"},"ahh2")],onCancel:()=>x(!1),children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"mr-4",htmlFor:"prov_list",children:"Pilih Provinsi"}),(0,n.jsx)(h.default,{defaultValue:"Pilih Provinsi",style:{width:200},onChange:e=>{r(e),l(""),c.SM.getAllCitiesByProvinceId({isNotify:!1,provinceId:e}).then(e=>{if(!e)return d([]);d(e.data)})},options:null===(t=e.provincesData)||void 0===t?void 0:t.map(e=>({value:e._id,label:e.provinceName}))})]}),a&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"mr-4",htmlFor:"city_list",children:"Pilih Kota"}),(0,n.jsx)(h.default,{defaultValue:"Pilih Kota",value:i,style:{width:200},onChange:(e,t)=>{console.log(e),l(e)},options:null==o?void 0:o.map(e=>({value:e._id,label:e.cityName}))})]})]}),(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("label",{htmlFor:"pond_name",children:"Nama Tambak"}),(0,n.jsx)(f.default,{id:"pond_name",name:"pond_name",onChange:e=>p(e.target.value)})]})]})]})},ponds_DashboardPonds=function(){let[e,t]=(0,s.useState)(),[a,r]=(0,s.useState)(),[i,l]=(0,s.useState)(),[m,p]=(0,s.useState)(""),[b,x]=(0,s.useState)(""),[v,j]=(0,s.useState)(""),findPonds=async(e,a,n)=>{c.ff.getAllPonds({isNotify:!1,pondsName:e,limit:9999,page:1,cityId:a,provinceId:n}).then(e=>{if(!e)return t([]);t(e.data)})},findProvince=async e=>{c.Rb.getAllProvinces({isNotify:!1,provinceName:e}).then(e=>{if(!e)return r([]);r(e.data)})};return(0,s.useEffect)(()=>{findPonds("","",""),findProvince("")},[]),(0,n.jsxs)("div",{className:"mt-8 px-2 lg:w-full lg:m-auto lg:mt-8 pb-16",children:[(0,n.jsxs)("div",{className:"w-full mt-16 flex flex-row justify-between items-center",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold",children:"Daftar Tambak"}),(0,n.jsx)(partials_AddNewPonds,{listRefresher:()=>findPonds(v,b,m),provincesData:a})]}),(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("p",{children:"Cari Tambak"}),(0,n.jsx)("div",{className:"flex flex-row",children:(0,n.jsx)(f.default,{onChange:e=>{j(e.target.value),findPonds(e.target.value,"",m)},className:"flex-5",placeholder:"Cari nama tambak anda..."})})]}),(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,n.jsx)("label",{className:"text-sm w-24",htmlFor:"prov_list",children:"Pilih Propinsi"}),"DAI",(0,n.jsx)(h.default,{value:m,defaultValue:"Pilih Provinsi",style:{width:200,margin:"10px 0"},onChange:e=>{p(e),findPonds(v,"",e),c.SM.getAllCitiesByProvinceId({isNotify:!1,provinceId:e}).then(e=>{if(!e)return l([]);l(e.data)})},options:null==a?void 0:a.map(e=>({value:e._id,label:e.provinceName}))}),(0,n.jsx)("button",{onClick:()=>{p(""),findPonds(v,b,"")},className:"text-xl",children:(0,n.jsx)(u.default,{className:"text-white bg-red-500 hover:text-red-500 hover:bg-white rounded-full"})})]}),m&&(0,n.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,n.jsx)("label",{className:"text-sm w-24",htmlFor:"prov_list",children:"Pilih Kota"}),(0,n.jsx)(h.default,{value:b,defaultValue:"Pilih Kota",style:{width:200},onChange:(e,t)=>{x(e),findPonds(v,e,"")},options:null==i?void 0:i.map(e=>({value:e._id,label:e.cityName}))}),(0,n.jsx)("button",{onClick:()=>x(""),className:"text-xl",children:(0,n.jsx)(u.default,{className:"text-white bg-red-500 hover:text-red-500 hover:bg-white rounded-full"})})]})]})}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:null==e?void 0:e.map((e,t)=>(0,s.createElement)(o.Z,{listRefresher:()=>findPonds(v,b,m),...e,key:t}))}),!(null==e?void 0:e.length)&&(0,n.jsx)(d.Z,{message:"Tambak tidak ditemukan"})]})};function Auth(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:"Daftar Tambak - PENS Aquaculture Technology"}),(0,n.jsx)("meta",{name:"description",content:"Pascasarjana Politeknik Elektronika Negeri Surabaya"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)(l.Z,{children:(0,n.jsx)(ponds_DashboardPonds,{})})]})}}},function(e){e.O(0,[486,121,570,617,24,529,811,743,149,749,297,697,62,774,888,179],function(){return e(e.s=57468)}),_N_E=e.O()}]);