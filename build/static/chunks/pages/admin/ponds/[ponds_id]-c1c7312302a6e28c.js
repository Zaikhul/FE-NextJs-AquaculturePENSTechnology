(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[314],{60126:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"}},62573:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"}},21193:function(e,t,n){"use strict";Object.defineProperty(t,"Z",{enumerable:!0,get:function(){return l}});var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_getRequireWildcardCache(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=r?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(i,o,l):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(n(82684)),r=_interop_require_default(n(60126)),o=_interop_require_default(n(32905));function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_getRequireWildcardCache=function(e){return e?n:t})(e)}var l=i.forwardRef(function(e,t){var n,l;return i.createElement(o.default,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}({},e),l=l={ref:t,icon:r.default},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(l)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(l,e))}),n))})},55658:function(e,t,n){"use strict";Object.defineProperty(t,"Z",{enumerable:!0,get:function(){return l}});var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_getRequireWildcardCache(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=r?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(i,o,l):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(n(82684)),r=_interop_require_default(n(62573)),o=_interop_require_default(n(32905));function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_getRequireWildcardCache=function(e){return e?n:t})(e)}var l=i.forwardRef(function(e,t){var n,l;return i.createElement(o.default,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}({},e),l=l={ref:t,icon:r.default},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(l)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(l,e))}),n))})},19606:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/ponds/[ponds_id]",function(){return n(72017)}])},14655:function(e,t,n){"use strict";var i=n(28598),r=n(55658);n(82684),t.Z=function(e){let{message:t}=e;return(0,i.jsxs)("div",{className:"h-full w-full flex flex-col items-center justify-center mt-4",children:[(0,i.jsx)(r.Z,{className:"font-bold text-4xl text-gray-300"}),(0,i.jsx)("p",{className:"font-bold text-2xl text-gray-300 text-center",children:t})]})}},81013:function(e,t,n){"use strict";n.d(t,{Z:function(){return layouts_AdminLayout}});var i=n(28598),r=n(82684),o=n(60071),l=n.n(o),s=n(12691),a=n.n(s),c=n(34376),Header=()=>{let e=(0,c.useRouter)(),defineStyleNav=t=>{let n=e.asPath;return n.split("/")[2]==t?"bg-blue-400 text-white border-blue-200":""};return(0,r.useEffect)(()=>{},[]),(0,i.jsxs)("div",{className:"w-full",children:[(0,i.jsx)("div",{className:"flex flex-row items-center w-full justify-center gap-4 py-2",children:(0,i.jsxs)(a(),{href:"/",className:"flex flex-row items-center gap-4",children:[(0,i.jsx)(l(),{className:"cursor-pointer",src:"/images/logo-aquaculture-pens.png",alt:"Logo PENS",width:40,height:300}),(0,i.jsx)("h1",{className:"font-bold text-xs",children:"PENS Aquaculture Technology"})]})}),(0,i.jsxs)("ul",{className:"w-full flex flex-row items-center justify-evenly text-xs mt-4 gap-4",children:[(0,i.jsx)("li",{className:"flex-1 text-center rounded py-2 border-b-4 border-blue-800 hover:border-blue-400 ".concat(defineStyleNav("users")),children:(0,i.jsx)(a(),{href:"/admin/users",children:(0,i.jsx)("p",{children:"Users"})})}),(0,i.jsx)("li",{className:"flex-1 text-center rounded py-2 border-b-4 border-blue-800 hover:border-blue-400 ".concat(defineStyleNav("ponds")),children:(0,i.jsx)(a(),{href:"/admin/ponds",children:(0,i.jsx)("p",{children:"Tambak"})})}),(0,i.jsx)("li",{className:"flex-1 text-center rounded py-2 border-b-4 border-blue-800 hover:border-blue-400 ".concat(defineStyleNav("profile")),children:(0,i.jsx)(a(),{href:"/admin/profile",children:(0,i.jsx)("p",{children:"Akun"})})})]})]})},d=n(98440),u=n(18953),layouts_AdminLayout=function(e){let{children:t}=e,n=(0,c.useRouter)(),checkLoggedIn=()=>{let e=d.Z.getCookie("access_token"),t=d.Z.getCookie("username"),i=d.Z.getCookie("role");return e?"admin"==t&&i?void 0:(u.ZP.info({content:"You haven't admin access!"}),n.replace("/dashboard")):(u.ZP.info({content:"You have to logged in first!"}),n.replace("/"))};return(0,r.useEffect)(()=>{checkLoggedIn()},[]),(0,i.jsx)("div",{className:"w-full",children:(0,i.jsxs)("div",{className:"m-auto w-11/12 md:w-10/12 lg:8/12 xl:w-6/12",children:[(0,i.jsx)(Header,{}),t]})})}},72017:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Auth}});var i=n(28598),r=n(1887),o=n.n(r),l=n(81013),s=n(82684),a=n(34376),c=n(9712),d=n(14655),u=n(12691),f=n.n(u),AdminPoolCards=function(e){let[t,n]=(0,s.useState)({acidity:0,oxygen:0,salinity:0,temperature:0}),[r,o]=(0,s.useState)({acidity:0,oxygen:0,salinity:0,temperature:0}),getMonitoring=async()=>{c.C8.getAllMonitoring({from:"",to:"",isNotify:!1,limit:9999,page:1,poolsId:e._id,newestTime:"true"}).then(e=>{if(e)return n(e.data[e.data.length-1])})},getSampling=async()=>{c.pv.getAllSampling({from:"",to:"",isNotify:!1,limit:1,page:1,poolsId:e._id,newestTime:"true"}).then(e=>{if(e)return o(e.data[0])})};return(0,s.useEffect)(()=>{getMonitoring(),getSampling()},[]),(0,i.jsxs)("div",{className:"bg-blue-700 rounded-xl border-blue-200 border-2 p-4 text-white",children:[(0,i.jsx)("h4",{className:"text-xl font-white",children:e.poolsName}),(0,i.jsxs)("div",{className:"flex flex-row mt-2 mb-4",children:[(0,i.jsxs)("div",{className:"flex-1 flex-col justify-between flex border-r-2 pr-2",children:[(0,i.jsx)("h5",{className:"text-xs",children:"Pemantauan Terakhir"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{className:"flex flex-row justify-between",children:[(0,i.jsx)("p",{children:"pH :"})," ",null==t?void 0:t.acidity]}),(0,i.jsxs)("li",{className:"flex flex-row justify-between",children:[(0,i.jsx)("p",{children:"O2 :"})," ",null==t?void 0:t.oxygen]}),(0,i.jsxs)("li",{className:"flex flex-row justify-between",children:[(0,i.jsx)("p",{children:"Salinitas :"})," ",null==t?void 0:t.salinity]}),(0,i.jsxs)("li",{className:"flex flex-row justify-between",children:[(0,i.jsx)("p",{children:"Suhu :"})," ",null==t?void 0:t.temperature]})]})]}),(0,i.jsxs)("div",{className:"flex-1 flex-col justify-between flex border-l-2 pl-2",children:[(0,i.jsx)("h5",{className:"text-xs",children:"Sampel Terakhir"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{className:"flex flex-row justify-between",children:[(0,i.jsx)("p",{children:"pH :"})," ",null==r?void 0:r.acidity]}),(0,i.jsxs)("li",{className:"flex flex-row justify-between",children:[(0,i.jsx)("p",{children:"O2 :"})," ",null==r?void 0:r.oxygen]}),(0,i.jsxs)("li",{className:"flex flex-row justify-between",children:[(0,i.jsx)("p",{children:"Salinitas :"})," ",null==r?void 0:r.salinity]}),(0,i.jsxs)("li",{className:"flex flex-row justify-between",children:[(0,i.jsx)("p",{children:"Suhu :"})," ",null==r?void 0:r.temperature]})]})]})]}),(0,i.jsx)("div",{className:"flex flex-row gap-4 w-full",children:(0,i.jsx)(f(),{className:"flex-1",href:"/admin/ponds/"+e.pondsId+"/pools/"+e._id,children:(0,i.jsx)("button",{className:"w-full py-2 bg-blue-600 text-white rounded-xl border-2 border-white",children:"Buka"})})})]})},p=n(21193),ById=function(){let e=(0,a.useRouter)(),[t,n]=(0,s.useState)(),[r,o]=(0,s.useState)(),[l,u]=(0,s.useState)(),[g,y]=(0,s.useState)(),getPageData=e=>{e&&c.ff.getPondById({isNotify:!0,pondsId:e}).then(t=>{var i;if(!t)return;n(null==t?void 0:t.data);let r=null==t?void 0:null===(i=t.data)||void 0===i?void 0:i.cityId;c.SM.getCityById({cityId:r,isNotify:!1}).then(e=>{var t;e&&(u(null==e?void 0:e.data),c.Rb.getProvinceById({isNotify:!1,provinceId:null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.provinceId}).then(e=>{e&&y(null==e?void 0:e.data)}))}),c.jf.getPoolsByPondIdAdmin({isNotify:!0,pondId:e}).then(e=>{e&&o(e.data)})})};return(0,s.useEffect)(()=>{var t;getPageData(null==e?void 0:null===(t=e.query)||void 0===t?void 0:t.ponds_id)},[e]),(0,i.jsxs)("div",{className:"mt-8 lg:w-full lg:m-auto lg:mt-8 pb-16",children:[(0,i.jsx)("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 justify-between w-full",children:(0,i.jsxs)("div",{className:"flex flex-row items-center justify-between md:justify-start w-full gap-4",children:[(0,i.jsx)(f(),{href:"/admin/ponds",children:(0,i.jsx)("button",{className:"text-2xl font-bold text-red-600",children:(0,i.jsx)(p.Z,{})})}),(0,i.jsxs)("div",{className:"text-right md:text-left",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold",children:null==t?void 0:t.pondsName}),(0,i.jsx)("h4",{className:"text-sm",children:null==l?void 0:l.cityName}),(0,i.jsx)("h4",{children:null==g?void 0:g.provinceName})]})]})}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-4",children:null==r?void 0:r.map((t,n)=>{var r;return(0,i.jsx)(AdminPoolCards,{pondsId:null==e?void 0:null===(r=e.query)||void 0===r?void 0:r.ponds_id,poolsName:t.poolsName,_id:t._id,listRefresher:()=>{var t;return getPageData(null==e?void 0:null===(t=e.query)||void 0===t?void 0:t.ponds_id)}},n)})}),!(null==r?void 0:r.length)&&(0,i.jsx)(d.Z,{message:"Tambak tidak ditemukan"})]})};function Auth(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o(),{children:[(0,i.jsx)("title",{children:"Detail Tambak - PENS Aquaculture Technology"}),(0,i.jsx)("meta",{name:"description",content:"Pascasarjana Politeknik Elektronika Negeri Surabaya"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsx)(l.Z,{children:(0,i.jsx)(ById,{})})]})}},9712:function(e,t,n){"use strict";n.d(t,{gx:function(){return s},SM:function(){return u},C8:function(){return g},ff:function(){return c},jf:function(){return f},Rb:function(){return d},pv:function(){return p},Q:function(){return a},vn:function(){return serviceInstance}});let i="https://be.aquaculturepens.com";var r=n(98440),o=n(18953),l=n(50112);async function login(e){let{data:t}=await serviceInstance(e.isNotify).post("/api/v1/auth/login",e.data);return t}async function register(e){let{data:t}=await serviceInstance(e.isNotify).post("/api/v1/auth/register",e.data);return t}let s={login:login,register:register};async function getAllUserProfiles(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/users/all");return t}async function getMyProfile(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/users");return t}let a={getMyProfile:getMyProfile,getAllUserProfiles:getAllUserProfiles};async function getAllPonds(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/ponds?pondsName="+e.pondsName+"&page="+e.page+"&limit="+e.limit+"&provinceId="+e.provinceId+"&cityId="+e.cityId);return t}async function getAllNoQueryPonds(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/ponds/all-ponds?pondsName="+e.pondsName+"&page="+e.page+"&limit="+e.limit+"&provinceId="+e.provinceId+"&cityId="+e.cityId);return t}async function getPondById(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/ponds/pondsId/"+e.pondsId);return t}async function getAllPondsByCityId(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/ponds/cityId/"+e.cityId);return t}async function createPonds(e){let{data:t}=await serviceInstance(e.isNotify).post("/api/v1/ponds?pondsName",e.data);return t}async function deletePondsById(e){let{data:t}=await serviceInstance(e.isNotify).delete("/api/v1/ponds/pondsId/"+e.pondsId);return t}let c={getAllPonds:getAllPonds,createPonds:createPonds,getAllNoQueryPonds:getAllNoQueryPonds,getAllPondsByCityId:getAllPondsByCityId,deletePondsById:deletePondsById,getPondById:getPondById};async function getAllProvinces(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/provinces?provinceName="+e.provinceName);return t}async function getProvinceById(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/provinces/provinceId/"+e.provinceId);return t}let d={getAllProvinces:getAllProvinces,getProvinceById:getProvinceById};async function getAllCities(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/cities?cityName=");return t}async function getCityById(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/cities/cityId/"+e.cityId);return t}async function getAllCitiesByProvinceId(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/cities/provinceId/"+e.provinceId);return t}let u={getAllCities:getAllCities,getAllCitiesByProvinceId:getAllCitiesByProvinceId,getCityById:getCityById};async function getAllPools(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/pools?poolsName="+e.poolsName);return t}async function createPools(e){let{data:t}=await serviceInstance(e.isNotify).post("/api/v1/pools",e.data);return t}async function getPoolsByPondId(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/pools/pondsId/"+e.pondId);return t}async function getPoolsById(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/pools/poolsId/"+e.poolsId);return t}async function bindPools(e){let{data:t}=await serviceInstance(e.isNotify).put("/api/v1/pools/bind/poolsId/"+e.poolsId,e.data);return t}async function getPoolsByPondIdAdmin(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/pools/pondsIdAdmin/"+e.pondId);return t}let f={getAllPools:getAllPools,getPoolsByPondId:getPoolsByPondId,createPools:createPools,getPoolsById:getPoolsById,getPoolsByPondIdAdmin:getPoolsByPondIdAdmin,bindPools:bindPools};async function getAllSampling(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/sample/poolsId/".concat(e.poolsId,"?from=").concat(e.from,"&to=").concat(e.to,"&limit=").concat(e.limit,"&page=").concat(e.page,"&newestTime=").concat(e.newestTime));return t}async function getTodaySampling(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/sample/poolsId/".concat(e.poolsId,"/today"));return t}let p={getTodaySampling:getTodaySampling,getAllSampling:getAllSampling};async function getAllMonitoring(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/monitor/poolsId/".concat(e.poolsId,"?from=").concat(e.from,"&to=").concat(e.to,"&limit=").concat(e.limit,"&page=").concat(e.page,"&newestTime=").concat(e.newestTime));return t}async function getTodayMonitoring(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/monitor/poolsId/".concat(e.poolsId,"/today"));return t}let g={getTodayMonitoring:getTodayMonitoring,getAllMonitoring:getAllMonitoring};l.Z.create({baseURL:i,timeout:1e4});let serviceInstance=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?"":r.Z.getCookie("access_token"),s=l.Z.create({baseURL:i,timeout:1e4,headers:{Authorization:"Bearer "+n,"Access-Control-Allow-Origin":"*"}});return s.interceptors.response.use(function(t){return e&&o.ZP.success({content:t.data.message}),t},function(t){return e&&o.ZP.error({content:t.response.data.message}),t}),s}},98440:function(e,t){"use strict";t.Z={setCookie:(e,t,n)=>{let i="";if(n){let e=new Date;e.setTime(e.getTime()+864e5*n),i="; expires="+e.toUTCString()}document.cookie=e+"="+(t||"")+i+"; path=/"},getCookie:e=>{let t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let i=n[e];for(;" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null},deleteCookie:e=>{document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/"}}}},function(e){e.O(0,[109,112,774,888,179],function(){return e(e.s=19606)}),_N_E=e.O()}]);