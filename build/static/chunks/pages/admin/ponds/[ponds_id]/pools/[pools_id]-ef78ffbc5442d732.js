(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[133],{42786:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/ponds/[ponds_id]/pools/[pools_id]",function(){return n(42804)}])},73879:function(e,t,n){"use strict";var a=n(85893);n(67294);var i=n(26495),s=n(23148);s.kL.register(s.uw,s.f$,s.od,s.jn,s.Dx,s.u,s.De),t.Z=e=>{let{labels:t,temp:n,oxygen:s,salinity:o,pH:l}=e;return(0,a.jsx)(i.x1,{className:"max-h-96",options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Pemantauan hari ini"}}},data:{datasets:[{label:"Suhu",data:n,backgroundColor:"rgba(255, 0, 0, 0.5)"},{label:"Oksigen",data:s,backgroundColor:"rgba(0, 255, 0, 0.5)"},{label:"Salinitas",data:o,backgroundColor:"rgba(0, 0, 255, 0.5)"},{label:"pH",data:l,backgroundColor:"rgba(255, 255, 0, 0.5)"}],labels:t}})}},16089:function(e,t,n){"use strict";var a=n(85893),i=n(74048),s=n(2307);let o=[{title:"Tanggal",dataIndex:"createdAt",key:"createdAt",fixed:"left",render:e=>(0,a.jsx)(i.default,{children:new Date(e.split("T")[0]).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})},{title:"Waktu",dataIndex:"createdAt",key:"createdAt",render:e=>(0,a.jsx)(i.default,{children:new Date(e).toLocaleTimeString("id-ID")})},{title:"Suhu",dataIndex:"temperature",key:"temperature",sorter:(e,t)=>e.temperature-t.temperature,render:e=>{let t="";return e<20?t="text-blue-500":e>30&&(t="text-red-500"),(0,a.jsxs)(i.default,{className:"text-center ".concat(t),children:[e.toFixed(1),"\xb0C"]})}},{title:"Oksigen",dataIndex:"oxygen",key:"oxygen",sorter:(e,t)=>e.oxygen-t.oxygen,render:e=>{let t="";return e<5?t="text-blue-500":e>10&&(t="text-red-500"),(0,a.jsxs)(i.default,{className:"text-center ".concat(t),children:[e,"%"]})}},{title:"Salinitas",dataIndex:"salinity",key:"salinity",sorter:(e,t)=>e.salinity-t.salinity,render:e=>{let t="";return e<25?t="text-blue-500":e>35&&(t="text-red-500"),(0,a.jsxs)(i.default,{className:"text-center ".concat(t),children:[e,"%"]})}},{title:"pH",dataIndex:"acidity",key:"acidity",sorter:(e,t)=>e.acidity-t.acidity,render:e=>{let t="";return e<6?t="text-blue-500":e>8&&(t="text-red-500"),(0,a.jsx)(i.default,{className:"text-center ".concat(t),children:e.toFixed(2)})}}];t.Z=function(e){let{records:t}=e;return(0,a.jsx)(s.Z,{rowClassName:"text-sm md:text-base",className:"whitespace-nowrap",columns:o,dataSource:t,rowKey:"_id"})}},70433:function(e,t,n){"use strict";n.d(t,{Z:function(){return layouts_AdminLayout}});var a=n(85893),i=n(67294),s=n(25675),o=n.n(s),l=n(41664),r=n.n(l),c=n(11163),Header=()=>{let e=(0,c.useRouter)(),defineStyleNav=t=>{let n=e.asPath;return n.split("/")[2]==t?"bg-blue-400 text-white border-blue-200":""};return(0,i.useEffect)(()=>{},[]),(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("div",{className:"flex flex-row items-center w-full justify-center gap-4 py-2",children:(0,a.jsxs)(r(),{href:"/",className:"flex flex-row items-center gap-4",children:[(0,a.jsx)(o(),{className:"cursor-pointer",src:"/images/logo-aquaculture-pens.png",alt:"Logo PENS",width:40,height:300}),(0,a.jsx)("h1",{className:"font-bold text-xs",children:"PENS Aquaculture Technology"})]})}),(0,a.jsxs)("ul",{className:"w-full flex flex-row items-center justify-evenly text-xs mt-4 gap-4",children:[(0,a.jsx)("li",{className:"flex-1 text-center rounded py-2 border-b-4 border-blue-800 hover:border-blue-400 ".concat(defineStyleNav("users")),children:(0,a.jsx)(r(),{href:"/admin/users",children:(0,a.jsx)("p",{children:"Users"})})}),(0,a.jsx)("li",{className:"flex-1 text-center rounded py-2 border-b-4 border-blue-800 hover:border-blue-400 ".concat(defineStyleNav("ponds")),children:(0,a.jsx)(r(),{href:"/admin/ponds",children:(0,a.jsx)("p",{children:"Tambak"})})}),(0,a.jsx)("li",{className:"flex-1 text-center rounded py-2 border-b-4 border-blue-800 hover:border-blue-400 ".concat(defineStyleNav("profile")),children:(0,a.jsx)(r(),{href:"/admin/profile",children:(0,a.jsx)("p",{children:"Akun"})})})]})]})},d=n(28487),u=n(11187),layouts_AdminLayout=function(e){let{children:t}=e,n=(0,c.useRouter)(),checkLoggedIn=()=>{let e=d.Z.getCookie("access_token"),t=d.Z.getCookie("username"),a=d.Z.getCookie("role");return e?"admin"==t&&a?void 0:(u.ZP.info({content:"You haven't admin access!"}),n.replace("/dashboard")):(u.ZP.info({content:"You have to logged in first!"}),n.replace("/"))};return(0,i.useEffect)(()=>{checkLoggedIn()},[]),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsxs)("div",{className:"m-auto w-11/12 md:w-10/12 lg:8/12 xl:w-6/12",children:[(0,a.jsx)(Header,{}),t]})})}},42804:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Auth}});var a=n(85893),i=n(9008),s=n.n(i),o=n(70433),l=n(12619),r=n(85317),c=n(40987),d=n(41664),u=n.n(d),g=n(11163),p=n(67294),m=n(14321),y=n(65400),f=n.n(y),h=n(16089),x=n(62599),v=n(32786),w=n(73879),partials_MonitoringPanel=function(e){let[t,n]=(0,p.useState)(""),[i,s]=(0,p.useState)(""),[o,r]=(0,p.useState)([]),[c,d]=(0,p.useState)([]),[u,g]=(0,p.useState)([]),[y,I]=(0,p.useState)([]),[N,j]=(0,p.useState)([]),[b,S]=(0,p.useState)([]),getTodayMonitoring=async()=>{let t=await l.C8.getTodayMonitoring({isNotify:!1,poolsId:e.poolId}).then(e=>{if(e)return r(e.data),e.data.map((e,t)=>{let n=3600*Math.round(new Date(e.updatedAt).getTime()/36e5),a=new Date(0);return a.setUTCSeconds(n),{time:a,...e}})}),n=new Date(Date.now()),a="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),i=new Date(new Date(a).toLocaleString()).getTime(),s=new Date(Date.now()).getTime(),o=[],c=[],u=[],p=[],m=[],y=0,f=0,h=0,x=0;for(let e=i;e<s;e+=36e5){let n=new Date(0);n.setUTCMilliseconds(e),null==t||t.forEach((e,t)=>{if(e.time.toString()===n.toString()){o.push(new Date(e.createdAt).toLocaleTimeString()),u.push(e.oxygen),p.push(e.salinity),m.push(e.acidity),c.push(e.temperature),f=e.oxygen,h=e.salinity,x=e.acidity,y=e.temperature;return}}),o.push(""),u.push(f),p.push(h),m.push(x),c.push(y)}d(o),g(u),I(p),S(c),j(m),d(o)},getMonitoringByDate=async()=>{let n=await l.C8.getAllMonitoring({isNotify:!1,poolsId:e.poolId,from:t,to:i||new Date(new Date(t).getTime()+864e5).toISOString().split("T")[0],limit:9999,page:1,newestTime:"false"}).then(e=>e?(console.log(e),r(e.data),e.data.map((e,t)=>{let n=3600*Math.round(new Date(e.updatedAt).getTime()/36e5),a=new Date(0);return a.setUTCSeconds(n),{time:a,...e}})):[]),a=[],s=[],o=[],c=[],u=[];null==n||n.forEach((e,t)=>{a.push(new Date(e.createdAt).toLocaleTimeString()),o.push(e.oxygen),c.push(e.salinity),u.push(e.acidity),s.push(e.temperature),e.oxygen,e.salinity,e.acidity,e.temperature}),d(a),g(o),I(c),S(s)},socketInit=()=>{let t=(0,x.ZP)("wss://dev-api-2023.aquaculturepens.com");t.on("Monitor:"+e.poolId,async e=>{console.log(e),getTodayMonitoring()})};return(0,p.useEffect)(()=>{r([]),t||i?getMonitoringByDate():(getTodayMonitoring(),socketInit())},[t,i]),(0,a.jsx)("div",{className:"mt-8 w-full",children:(0,a.jsx)("div",{className:"space-y-2 md:space-x-4 mb-4",children:(0,a.jsxs)("div",{className:"mt-8 w-full",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start md:items-center",children:[(0,a.jsxs)("div",{className:"space-y-2 md:space-x-4 mb-4",children:[(0,a.jsx)(m.Z,{onChange:(e,t)=>{n(Array.isArray(t)?t[0]:t)},placeholder:"Tanggal Awal",allowClear:!0}),(0,a.jsx)("span",{className:"hidden md:inline",children:"-"}),(0,a.jsx)(m.Z,{onChange:(e,t)=>{s(Array.isArray(t)?t[0]:t)},placeholder:"Tanggal Akhir",disabled:!t,allowClear:!0})]}),(0,a.jsx)(f(),{className:"bg-green-500 hover:bg-green-400 text-white px-4 rounded-lg",onClick:function(){let e=(0,v.F)(o),n="data_monitoring";t&&i?n+="_".concat(t,"_").concat(i):t?n+="_".concat(t):n+="_".concat(new Date().toISOString().split("T")[0]),n+=".csv",(0,v.z)(e,n)},children:"Unduh CSV"})]}),(0,a.jsx)(w.Z,{labels:c,temp:b,oxygen:u,salinity:y,pH:N}),(0,a.jsxs)("div",{className:"mt-10 flex items-center",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-black rounded-full mr-2"}),(0,a.jsx)("span",{className:"text-sm mr-4",children:"Normal"}),(0,a.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded-full mr-2"}),(0,a.jsx)("span",{className:"text-sm mr-4",children:"Dibawah Batas Bawah"}),(0,a.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded-full mr-2"}),(0,a.jsx)("span",{className:"text-sm",children:"Diatas Batas Atas"})]}),(0,a.jsx)("div",{className:"mt-4 overflow-scroll md:overflow-hidden",children:(0,a.jsx)(h.Z,{records:o})})]})})})},partials_SamplingPanel=function(e){let[t,n]=(0,p.useState)(""),[i,s]=(0,p.useState)(""),[o,r]=(0,p.useState)([]),[c,d]=(0,p.useState)([]),[u,g]=(0,p.useState)([]),[y,I]=(0,p.useState)([]),[N,j]=(0,p.useState)([]),[b,S]=(0,p.useState)([]),getTodayMonitoring=async()=>{let t=await l.pv.getTodaySampling({isNotify:!1,poolsId:e.poolId}).then(e=>{if(e)return r(e.data),e.data.map((e,t)=>{let n=3600*Math.round(new Date(e.updatedAt).getTime()/36e5),a=new Date(0);return a.setUTCSeconds(n),{time:a,...e}})}),n=new Date(Date.now()),a="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),i=new Date(new Date(a).toLocaleString()).getTime(),s=new Date(Date.now()).getTime(),o=[],c=[],u=[],p=[],m=[],y=0,f=0,h=0,x=0;for(let e=i;e<s;e+=36e5){let n=new Date(0);n.setUTCMilliseconds(e),null==t||t.forEach((e,t)=>{if(e.time.toString()===n.toString()){o.push(new Date(e.createdAt).toLocaleTimeString()),u.push(e.oxygen),p.push(e.salinity),m.push(e.acidity),c.push(e.temperature),f=e.oxygen,h=e.salinity,x=e.acidity,y=e.temperature;return}}),o.push(""),u.push(f),p.push(h),m.push(x),c.push(y)}d(o),g(u),I(p),S(c),j(m)},getSamplingByDate=async()=>{let n=await l.pv.getAllSampling({isNotify:!1,poolsId:e.poolId,from:t,to:i||new Date(new Date(t).getTime()+864e5).toISOString().split("T")[0],limit:9999,page:1,newestTime:"true"}).then(e=>e?(r(e.data),e.data.map((e,t)=>{let n=3600*Math.round(new Date(e.updatedAt).getTime()/36e5),a=new Date(0);return a.setUTCSeconds(n),{time:a,...e}})):[]),a=[],s=[],o=[],c=[],u=[];null==n||n.forEach((e,t)=>{a.push(new Date(e.createdAt).toLocaleTimeString()),o.push(e.oxygen),c.push(e.salinity),u.push(e.acidity),s.push(e.temperature),e.oxygen,e.salinity,e.acidity,e.temperature}),d(a),g(o),I(c),S(s),j(u)},socketInit=()=>{let t=(0,x.ZP)("wss://dev-api-2023.aquaculturepens.com");t.on("Sample:"+e.poolId,async e=>{console.log(e),getTodayMonitoring()})};return(0,p.useEffect)(()=>{r([]),t||i?getSamplingByDate():(getTodayMonitoring(),socketInit())},[t,i]),(0,a.jsx)("div",{className:"mt-8 w-full",children:(0,a.jsx)("div",{className:"space-y-2 md:space-x-4 mb-4",children:(0,a.jsxs)("div",{className:"mt-8 w-full",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start md:items-center",children:[(0,a.jsxs)("div",{className:"space-y-2 md:space-x-4 mb-4",children:[(0,a.jsx)(m.Z,{onChange:(e,t)=>{n(Array.isArray(t)?t[0]:t)},placeholder:"Tanggal Awal",allowClear:!0}),(0,a.jsx)("span",{className:"hidden md:inline",children:"-"}),(0,a.jsx)(m.Z,{onChange:(e,t)=>{s(Array.isArray(t)?t[0]:t)},placeholder:"Tanggal Akhir",disabled:!t,allowClear:!0})]}),(0,a.jsx)(f(),{className:"bg-green-500 hover:bg-green-400 text-white px-4 rounded-lg",onClick:function(){let e=(0,v.F)(o),n="data_sampling";t&&i?n+="_".concat(t,"_").concat(i):t?n+="_".concat(t):n+="_".concat(new Date().toISOString().split("T")[0]),n+=".csv",(0,v.z)(e,n)},children:"Unduh CSV"})]}),(0,a.jsx)(w.Z,{labels:c,temp:b,oxygen:u,salinity:y,pH:N}),(0,a.jsxs)("div",{className:"mt-10 flex items-center",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-black rounded-full mr-2"}),(0,a.jsx)("span",{className:"text-sm mr-4",children:"Normal"}),(0,a.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded-full mr-2"}),(0,a.jsx)("span",{className:"text-sm mr-4",children:"Dibawah Batas Bawah"}),(0,a.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded-full mr-2"}),(0,a.jsx)("span",{className:"text-sm",children:"Diatas Batas Atas"})]}),(0,a.jsx)("div",{className:"mt-4 overflow-scroll md:overflow-hidden",children:(0,a.jsx)(h.Z,{records:o})})]})})})},pools_PoolsView=function(){let e=(0,g.useRouter)().query,{ponds_id:t,pools_id:n}=e,[i,s]=(0,p.useState)(!1),[o,d]=(0,p.useState)(""),[m,y]=(0,p.useState)(),[f,h]=(0,p.useState)(),[x,v]=(0,p.useState)(),[w,I]=(0,p.useState)(),[N,j]=(0,p.useState)(!0),getPageData=e=>{e&&l.ff.getPondById({isNotify:!1,pondsId:e}).then(e=>{var t;if(!e)return;y(null==e?void 0:e.data);let a=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.cityId;l.SM.getCityById({cityId:a,isNotify:!1}).then(e=>{var t;e&&(v(null==e?void 0:e.data),l.Rb.getProvinceById({isNotify:!1,provinceId:null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.provinceId}).then(e=>{e&&I(null==e?void 0:e.data)}))}),l.jf.getPoolsById({isNotify:!1,poolsId:n}).then(e=>{var t;e&&(h(e.data),d(null===(t=e.data)||void 0===t?void 0:t.deviceName))})})};return(0,p.useEffect)(()=>{getPageData(t)},[e]),(0,a.jsxs)("div",{className:"mt-8 lg:w-full lg:m-auto lg:mt-8 pb-16",children:[(0,a.jsx)("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 justify-between w-full",children:(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between md:justify-start w-full gap-4",children:[(0,a.jsx)(u(),{href:"/admin/ponds/".concat(t),children:(0,a.jsx)("button",{className:"text-2xl font-bold text-red-600",children:(0,a.jsx)(r.Z,{})})}),(0,a.jsxs)("div",{className:"text-right md:text-left",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:null==f?void 0:f.poolsName}),(0,a.jsx)("h2",{className:"text-base font-semibold",children:null==m?void 0:m.pondsName}),(0,a.jsx)("h4",{className:"text-sm",children:null==x?void 0:x.cityName}),(0,a.jsx)("h4",{children:null==w?void 0:w.provinceName})]})]})}),(0,a.jsxs)("div",{className:"custom-switch mt-6",children:[(0,a.jsx)("p",{children:"Pilih Mode"}),(0,a.jsx)(c.Z,{onChange:e=>j(e),checkedChildren:(0,a.jsx)("div",{className:"w-44 font-bold text-white",children:(0,a.jsx)("p",{children:"Monitoring"})}),unCheckedChildren:(0,a.jsx)("div",{className:"w-44 font-bold text-white",children:(0,a.jsx)("p",{children:"Sampling"})}),defaultChecked:!0})]}),N?(0,a.jsx)(partials_MonitoringPanel,{poolId:n}):(0,a.jsx)(partials_SamplingPanel,{poolId:n})]})};function Auth(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s(),{children:[(0,a.jsx)("title",{children:"Detail Kolam - PENS Aquaculture Technology"}),(0,a.jsx)("meta",{name:"description",content:"Pascasarjana Politeknik Elektronika Negeri Surabaya"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsx)(o.Z,{children:(0,a.jsx)(pools_PoolsView,{})})]})}},12619:function(e,t,n){"use strict";n.d(t,{gx:function(){return l},SM:function(){return u},C8:function(){return m},ff:function(){return c},jf:function(){return g},Rb:function(){return d},pv:function(){return p},Q:function(){return r},vn:function(){return serviceInstance}});let a="https://be.aquaculturepens.com";var i=n(28487),s=n(11187),o=n(5121);async function login(e){let{data:t}=await serviceInstance(e.isNotify).post("/api/v1/auth/login",e.data);return t}async function register(e){let{data:t}=await serviceInstance(e.isNotify).post("/api/v1/auth/register",e.data);return t}let l={login:login,register:register};async function getAllUserProfiles(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/users/all");return t}async function getMyProfile(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/users");return t}let r={getMyProfile:getMyProfile,getAllUserProfiles:getAllUserProfiles};async function getAllPonds(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/ponds?pondsName="+e.pondsName+"&page="+e.page+"&limit="+e.limit+"&provinceId="+e.provinceId+"&cityId="+e.cityId);return t}async function getAllNoQueryPonds(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/ponds/all-ponds?pondsName="+e.pondsName+"&page="+e.page+"&limit="+e.limit+"&provinceId="+e.provinceId+"&cityId="+e.cityId);return t}async function getPondById(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/ponds/pondsId/"+e.pondsId);return t}async function getAllPondsByCityId(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/ponds/cityId/"+e.cityId);return t}async function createPonds(e){let{data:t}=await serviceInstance(e.isNotify).post("/api/v1/ponds?pondsName",e.data);return t}async function deletePondsById(e){let{data:t}=await serviceInstance(e.isNotify).delete("/api/v1/ponds/pondsId/"+e.pondsId);return t}let c={getAllPonds:getAllPonds,createPonds:createPonds,getAllNoQueryPonds:getAllNoQueryPonds,getAllPondsByCityId:getAllPondsByCityId,deletePondsById:deletePondsById,getPondById:getPondById};async function getAllProvinces(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/provinces?provinceName="+e.provinceName);return t}async function getProvinceById(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/provinces/provinceId/"+e.provinceId);return t}let d={getAllProvinces:getAllProvinces,getProvinceById:getProvinceById};async function getAllCities(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/cities?cityName=");return t}async function getCityById(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/cities/cityId/"+e.cityId);return t}async function getAllCitiesByProvinceId(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/cities/provinceId/"+e.provinceId);return t}let u={getAllCities:getAllCities,getAllCitiesByProvinceId:getAllCitiesByProvinceId,getCityById:getCityById};async function getAllPools(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/pools?poolsName="+e.poolsName);return t}async function createPools(e){let{data:t}=await serviceInstance(e.isNotify).post("/api/v1/pools",e.data);return t}async function getPoolsByPondId(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/pools/pondsId/"+e.pondId);return t}async function getPoolsById(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/pools/poolsId/"+e.poolsId);return t}async function bindPools(e){let{data:t}=await serviceInstance(e.isNotify).put("/api/v1/pools/bind/poolsId/"+e.poolsId,e.data);return t}async function getPoolsByPondIdAdmin(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/pools/pondsIdAdmin/"+e.pondId);return t}let g={getAllPools:getAllPools,getPoolsByPondId:getPoolsByPondId,createPools:createPools,getPoolsById:getPoolsById,getPoolsByPondIdAdmin:getPoolsByPondIdAdmin,bindPools:bindPools};async function getAllSampling(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/sample/poolsId/".concat(e.poolsId,"?from=").concat(e.from,"&to=").concat(e.to,"&limit=").concat(e.limit,"&page=").concat(e.page,"&newestTime=").concat(e.newestTime));return t}async function getTodaySampling(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/sample/poolsId/".concat(e.poolsId,"/today"));return t}let p={getTodaySampling:getTodaySampling,getAllSampling:getAllSampling};async function getAllMonitoring(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/monitor/poolsId/".concat(e.poolsId,"?from=").concat(e.from,"&to=").concat(e.to,"&limit=").concat(e.limit,"&page=").concat(e.page,"&newestTime=").concat(e.newestTime));return t}async function getTodayMonitoring(e){let{data:t}=await serviceInstance(e.isNotify).get("/api/v1/monitor/poolsId/".concat(e.poolsId,"/today"));return t}let m={getTodayMonitoring:getTodayMonitoring,getAllMonitoring:getAllMonitoring};o.Z.create({baseURL:a,timeout:1e4});let serviceInstance=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?"":i.Z.getCookie("access_token"),l=o.Z.create({baseURL:a,timeout:1e4,headers:{Authorization:"Bearer "+n,"Access-Control-Allow-Origin":"*"}});return l.interceptors.response.use(function(t){return e&&s.ZP.success({content:t.data.message}),t},function(t){return e&&s.ZP.error({content:t.response.data.message}),t}),l}},32786:function(e,t,n){"use strict";function generateCSVFromCollections(e){let t="Waktu,Suhu,Oksigen,Salinitas,pH\n";for(let n of e){let e=[new Date(n.createdAt).toLocaleTimeString(),n.temperature.toString(),n.oxygen.toString(),n.salinity.toString(),n.acidity.toString()];t+=e+"\n"}return t}function downloadGeneratedCsv(e,t){let n=new Blob([e],{type:"text/csv;charset=utf-8"}),a=URL.createObjectURL(n),i=document.createElement("a");i.href=a,i.setAttribute("download",t),document.body.appendChild(i),i.click(),document.body.removeChild(i)}n.d(t,{F:function(){return generateCSVFromCollections},z:function(){return downloadGeneratedCsv}})},28487:function(e,t){"use strict";t.Z={setCookie:(e,t,n)=>{let a="";if(n){let e=new Date;e.setTime(e.getTime()+864e5*n),a="; expires="+e.toUTCString()}document.cookie=e+"="+(t||"")+a+"; path=/"},getCookie:e=>{let t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let a=n[e];for(;" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return null},deleteCookie:e=>{document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/"}}}},function(e){e.O(0,[196,486,121,570,617,24,529,811,743,749,435,774,888,179],function(){return e(e.s=42786)}),_N_E=e.O()}]);